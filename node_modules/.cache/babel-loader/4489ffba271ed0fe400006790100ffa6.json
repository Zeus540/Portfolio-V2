{"ast":null,"code":"import { FloatNode } from '../inputs/FloatNode.js';\n\nfunction MaxMIPLevelNode(texture) {\n  FloatNode.call(this);\n  this.texture = texture;\n  this.maxMIPLevel = 0;\n}\n\nMaxMIPLevelNode.prototype = Object.create(FloatNode.prototype);\nMaxMIPLevelNode.prototype.constructor = MaxMIPLevelNode;\nMaxMIPLevelNode.prototype.nodeType = 'MaxMIPLevel';\nObject.defineProperties(MaxMIPLevelNode.prototype, {\n  value: {\n    get: function () {\n      if (this.maxMIPLevel === 0) {\n        var image = this.texture.value.image;\n        if (Array.isArray(image)) image = image[0];\n        this.maxMIPLevel = image !== undefined ? Math.log(Math.max(image.width, image.height)) * Math.LOG2E : 0;\n      }\n\n      return this.maxMIPLevel;\n    },\n    set: function () {}\n  }\n});\n\nMaxMIPLevelNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.texture = this.texture.uuid;\n  }\n\n  return data;\n};\n\nexport { MaxMIPLevelNode };","map":null,"metadata":{},"sourceType":"module"}