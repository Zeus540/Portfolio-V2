{"ast":null,"code":"import { Node } from './Node.js';\n\nfunction VarNode(type, value) {\n  Node.call(this, type);\n  this.value = value;\n}\n\nVarNode.prototype = Object.create(Node.prototype);\nVarNode.prototype.constructor = VarNode;\nVarNode.prototype.nodeType = 'Var';\n\nVarNode.prototype.getType = function (builder) {\n  return builder.getTypeByFormat(this.type);\n};\n\nVarNode.prototype.generate = function (builder, output) {\n  var varying = builder.getVar(this.uuid, this.type);\n\n  if (this.value && builder.isShader('vertex')) {\n    builder.addNodeCode(varying.name + ' = ' + this.value.build(builder, this.getType(builder)) + ';');\n  }\n\n  return builder.format(varying.name, this.getType(builder), output);\n};\n\nVarNode.prototype.copy = function (source) {\n  Node.prototype.copy.call(this, source);\n  this.type = source.type;\n  this.value = source.value;\n  return this;\n};\n\nVarNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.type = this.type;\n    if (this.value) data.value = this.value.toJSON(meta).uuid;\n  }\n\n  return data;\n};\n\nexport { VarNode };","map":null,"metadata":{},"sourceType":"module"}